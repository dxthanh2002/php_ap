<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ví dụ JSON</title>
    <script>
        function show(book){
            //tạo chuỗi chữa nội dung sách cần hiển thị
            var content = "";
            content += ("ISBN: <b>" + book.isbn + "</b>");
            content +=("<br>");
            content +=("Title: " + book.title);
            content +=("<br>");
            content +=("Category: " + book.category);
            content +=("<br>");
            content +=("Author: " + book.author);
            content +=("<br>");
            content +=("Page: " + book.page);
            content +=("<br>");
            content +=("Price: " + book.price);   
            //hiển thị thông tin đối tượng vào div id=demo
            document.getElementById("demo").innerHTML=content;         
       }
    </script>
</head>
<body>
   <h2>Phân tích chuỗi JSON từ file JSON trên Server</h2>
   <div id="demo"></div>
   <script>
       //tạo đối tượng AJAX để request tệp book.json trên máy chủ 
        const xmlhttp = new XMLHttpRequest();
        //gửi request đến file book.json tới máy chủ. 
        //Khi thành công sẽ chạy function được gán cho .onload
        xmlhttp.open("GET", "data/book.json");
        xmlhttp.send();
        //xmlhttp.onload = function(){} được gọi khi gửi yêu cầu thành công để nhận kết quả
        xmlhttp.onload = function() {
        var book = JSON.parse(this.responseText); //responseText là nội dung của book.json
        show(book);//gọi hàm show để hiển thị book vào thẻ div có id=demo
        };
   </script> 
</body>
</html>